(()=>{var h=document.querySelector("#infinity_point");if(h){let c=function(e){var n=e.dataset.url;function o(){e.innerHTML="loading"}function s(){e.innerHTML=""}async function r(){return await(await fetch(n)).text()}function t(u){let d=document.createElement("div");d.innerHTML=u;let a=d.querySelector("#infinity_point").dataset.url;console.log("check",a),a==""&&i.disconnect(),e.setAttribute("data-url",a);let m=document.querySelector("#collection__products");d.querySelectorAll("#collection__products > *").forEach(p=>{m.appendChild(p)})}return{loading:o,hiddenLoading:s,callApi:r,appendData:t}},i=new IntersectionObserver(e=>{e.forEach(n=>{if(n.isIntersecting){let{loading:o,hiddenLoading:s,callApi:r,appendData:t}=c(n.target);o(),r().then(l=>{t(l)}).finally(()=>{s()})}})});i.observe(h)}window.handleChangeSortBy=c=>{let e=document.getElementById("sort_by").dataset.url,o=document.getElementById("form_sort_by").dataset.sectionId,s=c.target.value,r=e+"?sort_by="+s+"&section_id="+o+"";fetch(r).then(t=>t.text()).then(t=>{appendChild(t)})};window.handleChangeShow=c=>{let e=document.getElementById("form_show").dataset.sectionId,n=c.target.value,o=`${window.Shopify.routes.root}cart/update.js`,s={attributes:{IdCart:n},sections:[e]},r={method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch(o,r).then(t=>t.json()).then(t=>{let l=t.sections[e];appendChild(l)}).catch(t=>console.error(t))};appendChild=c=>{let i=document.querySelector("#collection__products"),e=document.createElement("div");e.innerHTML=c;let n=e.querySelectorAll("#collection__products > *");i.innerHTML="",n.forEach(o=>{i.appendChild(o)})};})();
